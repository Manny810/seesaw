def clean_space(x):
    x = x.strip()
    cx = ' '.join([w for w in x.split()])
    return cx

def clean_objectnet_name(name):
    ## bills (money) => money bills
    ## binder (closed) => closed binder
    ## coffee/french press => coffee or french press
    elts = name.split('(') ## assert only two parts
    if len(elts) == 2:
        noun, adj = elts
        adj = adj.replace(')', ' ')
        name = ' '.join([adj, noun])
        
    name = name.replace('/', ' or ')
    return clean_space(name)

def clean_lvis_name(name):
        return clean_space(name.replace('_', ' ').replace('(', ' ').replace(')', ' '))

_search_terms = {
'objectnet':{
    'air freshener': 'air freshener',
    'alarm clock': 'alarm clock',
    'backpack': 'backpack',
    'baking sheet': 'baking sheet',
    'banana': 'banana',
    'band aid': 'band aid',
    'baseball bat': 'baseball bat',
    'baseball glove': 'baseball glove',
    'basket': 'basket',
    'bath towel': 'bath towel',
    'bathrobe': 'bathrobe',
    'battery': 'battery',
    'bed sheet': 'bed sheet',
    'beer bottle': 'beer bottle',
    'beer can': 'beer can',
    'belt': 'belt',
    'bench': 'bench',
    'bicycle': 'bicycle',
    'bike pump': 'bike pump',
    'bills (money)': 'money bills',
    'binder (closed)': 'closed binder',
    'biscuits': 'biscuits',
    'blanket': 'blanket',
    'blender': 'blender',
    'blouse': 'blouse',
    'board game': 'board game',
    'book (closed)': 'closed book',
    'bookend': 'bookend',
    'boots': 'boots',
    'bottle cap': 'bottle cap',
    'bottle opener': 'bottle opener',
    'bottle stopper': 'bottle stopper',
    'box': 'box',
    'bracelet': 'bracelet',
    'bread knife': 'bread knife',
    'bread loaf': 'bread loaf',
    'briefcase': 'briefcase',
    'brooch': 'brooch',
    'broom': 'broom',
    'bucket': 'bucket',
    "butcher's knife": "butcher's knife",
    'butter': 'butter',
    'button': 'button',
    'calendar': 'calendar',
    'can opener': 'can opener',
    'candle': 'candle',
    'canned food': 'canned food',
    'cd case': 'cd case',
    'cellphone': 'cellphone',
    'cellphone case': 'cellphone case',
    'cellphone charger': 'cellphone charger',
    'cereal': 'cereal',
    'chair': 'chair',
    'cheese': 'cheese',
    'chess piece': 'chess piece',
    'chocolate': 'chocolate',
    'chopstick': 'chopstick',
    'clothes hamper': 'clothes hamper',
    'clothes hanger': 'clothes hanger',
    'coaster': 'coaster',
    'coffee beans': 'coffee beans',
    'coffee grinder': 'coffee grinder',
    'coffee machine': 'coffee machine',
    'coffee table': 'coffee table',
    'coffee/french press': 'coffee or french press',
    'coin (money)': 'money coin',
    'comb': 'comb',
    'combination lock': 'combination lock',
    'computer mouse': 'computer mouse',
    'contact lens case': 'contact lens case',
    'cooking oil bottle': 'cooking oil bottle',
    'cork': 'cork',
    'cutting board': 'cutting board',
    'deodorant': 'deodorant',
    'desk lamp': 'desk lamp',
    'detergent': 'detergent',
    'dish soap': 'dish soap',
    'dishrag or hand towel': 'dishrag or hand towel',
    'document folder (closed)': 'closed document folder',
    'dog bed': 'dog bed',
    'doormat': 'doormat',
    'drawer (open)': 'open drawer',
    'dress': 'dress',
    'dress pants': 'dress pants',
    'dress shirt': 'dress shirt',
    'dress shoe (men)': 'men dress shoe',
    'dress shoe (women)': 'women dress shoe',
    'drill': 'drill',
    'drinking cup': 'drinking cup',
    'drinking straw': 'drinking straw',
    'drying rack for clothes': 'drying rack for clothes',
    'drying rack for plates': 'drying rack for plates',
    'dust pan': 'dust pan',
    'dvd player': 'dvd player',
    'earbuds': 'earbuds',
    'earring': 'earring',
    'egg': 'egg',
    'egg carton': 'egg carton',
    'envelope': 'envelope',
    'eraser (white board)': 'white board eraser',
    'extension cable': 'extension cable',
    'eyeglasses': 'eyeglasses',
    'fan': 'fan',
    'figurine or statue': 'figurine or statue',
    'first aid kit': 'first aid kit',
    'flashlight': 'flashlight',
    'floss container': 'floss container',
    'flour container': 'flour container',
    'fork': 'fork',
    'frying pan': 'frying pan',
    'glue container': 'glue container',
    'hair brush': 'hair brush',
    'hair dryer': 'hair dryer',
    'hairclip': 'hairclip',
    'hairtie': 'hairtie',
    'hammer': 'hammer',
    'hand mirror': 'hand mirror',
    'handbag': 'handbag',
    'hat': 'hat',
    'headphones (over ear)': 'over ear headphones',
    'helmet': 'helmet',
    'honey container': 'honey container',
    'ice': 'ice',
    'ice cube tray': 'ice cube tray',
    'iron (for clothes)': 'for clothes iron',
    'ironing board': 'ironing board',
    'jam': 'jam',
    'jar': 'jar',
    'jeans': 'jeans',
    'kettle': 'kettle',
    'key chain': 'key chain',
    'keyboard': 'keyboard',
    'ladle': 'ladle',
    'lampshade': 'lampshade',
    'laptop (open)': 'open laptop',
    'laptop charger': 'laptop charger',
    'leaf': 'leaf',
    'leggings': 'leggings',
    'lemon': 'lemon',
    'letter opener': 'letter opener',
    'lettuce': 'lettuce',
    'light bulb': 'light bulb',
    'lighter': 'lighter',
    'lipstick': 'lipstick',
    'loofah': 'loofah',
    'magazine': 'magazine',
    'makeup': 'makeup',
    'makeup brush': 'makeup brush',
    'marker': 'marker',
    'match': 'match',
    'measuring cup': 'measuring cup',
    'microwave': 'microwave',
    'milk': 'milk',
    'mixing / salad bowl': 'mixing or salad bowl',
    'monitor': 'monitor',
    'mouse pad': 'mouse pad',
    'mouthwash': 'mouthwash',
    'mug': 'mug',
    'multitool': 'multitool',
    'nail (fastener)': 'fastener nail',
    'nail clippers': 'nail clippers',
    'nail file': 'nail file',
    'nail polish': 'nail polish',
    'napkin': 'napkin',
    'necklace': 'necklace',
    'newspaper': 'newspaper',
    'night light': 'night light',
    'nightstand': 'nightstand',
    'notebook': 'notebook',
    'notepad': 'notepad',
    'nut for a screw': 'nut for a screw',
    'orange': 'orange',
    'oven mitts': 'oven mitts',
    'padlock': 'padlock',
    'paint can': 'paint can',
    'paintbrush': 'paintbrush',
    'paper': 'paper',
    'paper bag': 'paper bag',
    'paper plates': 'paper plates',
    'paper towel': 'paper towel',
    'paperclip': 'paperclip',
    'peeler': 'peeler',
    'pen': 'pen',
    'pencil': 'pencil',
    'pepper shaker': 'pepper shaker',
    'pet food container': 'pet food container',
    'phone (landline)': 'landline phone',
    'photograph (printed)': 'printed photograph',
    'pill bottle': 'pill bottle',
    'pill organizer': 'pill organizer',
    'pillow': 'pillow',
    'pitcher': 'pitcher',
    'placemat': 'placemat',
    'plastic bag': 'plastic bag',
    'plastic cup': 'plastic cup',
    'plastic wrap': 'plastic wrap',
    'plate': 'plate',
    'playing cards': 'playing cards',
    'pliers': 'pliers',
    'plunger': 'plunger',
    'pop can': 'pop can',
    'portable heater': 'portable heater',
    'poster': 'poster',
    'power bar': 'power bar',
    'power cable': 'power cable',
    'printer': 'printer',
    'raincoat': 'raincoat',
    'rake': 'rake',
    'razor': 'razor',
    'receipt': 'receipt',
    'remote control': 'remote control',
    'removable blade': 'removable blade',
    'ribbon': 'ribbon',
    'ring': 'ring',
    'rock': 'rock',
    'rolling pin': 'rolling pin',
    'ruler': 'ruler',
    'running shoe': 'running shoe',
    'safety pin': 'safety pin',
    'salt shaker': 'salt shaker',
    'sandal': 'sandal',
    'scarf': 'scarf',
    'scissors': 'scissors',
    'screw': 'screw',
    'scrub brush': 'scrub brush',
    'sewing kit': 'sewing kit',
    'shampoo bottle': 'shampoo bottle',
    'shoelace': 'shoelace',
    'shorts': 'shorts',
    'shovel': 'shovel',
    'skateboard': 'skateboard',
    'skirt': 'skirt',
    'sleeping bag': 'sleeping bag',
    'slipper': 'slipper',
    'soap bar': 'soap bar',
    'soap dispenser': 'soap dispenser',
    'sock': 'sock',
    'soup bowl': 'soup bowl',
    'spatula': 'spatula',
    'speaker': 'speaker',
    'sponge': 'sponge',
    'spoon': 'spoon',
    'spray bottle': 'spray bottle',
    'squeegee': 'squeegee',
    'squeeze bottle': 'squeeze bottle',
    'standing lamp': 'standing lamp',
    'stapler': 'stapler',
    'step stool': 'step stool',
    'still camera': 'still camera',
    'stopper (sink/tub)': 'sink or tub stopper',
    'strainer': 'strainer',
    'stuffed animal': 'stuffed animal',
    'sugar container': 'sugar container',
    'suit jacket': 'suit jacket',
    'suitcase': 'suitcase',
    'sunglasses': 'sunglasses',
    'sweater': 'sweater',
    'swimming trunks': 'swimming trunks',
    't-shirt': 't-shirt',
    'table knife': 'table knife',
    'tablecloth': 'tablecloth',
    'tablet / ipad': 'tablet or ipad',
    'tanktop': 'tanktop',
    'tape / duct tape': 'tape or duct tape',
    'tape measure': 'tape measure',
    'tarp': 'tarp',
    'teabag': 'teabag',
    'teapot': 'teapot',
    'tennis racket': 'tennis racket',
    'thermometer': 'thermometer',
    'thermos': 'thermos',
    'throw pillow': 'throw pillow',
    'tie': 'tie',
    'tissue': 'tissue',
    'toaster': 'toaster',
    'toilet paper roll': 'toilet paper roll',
    'tomato': 'tomato',
    'tongs': 'tongs',
    'toothbrush': 'toothbrush',
    'toothpaste': 'toothpaste',
    'tote bag': 'tote bag',
    'toy': 'toy',
    'trash bag': 'trash bag',
    'trash bin': 'trash bin',
    'travel case': 'travel case',
    'tray': 'tray',
    'trophy': 'trophy',
    'tv': 'tv',
    'tweezers': 'tweezers',
    'umbrella': 'umbrella',
    'usb cable': 'usb cable',
    'usb flash drive': 'usb flash drive',
    'vacuum cleaner': 'vacuum cleaner',
    'vase': 'vase',
    'video camera': 'video camera',
    'walker': 'walker',
    'walking cane': 'walking cane',
    'wallet': 'wallet',
    'watch': 'watch',
    'water bottle': 'water bottle',
    'water filter': 'water filter',
    'webcam': 'webcam',
    'weight (exercise)': 'exercise weight',
    'weight scale': 'weight scale',
    'wheel': 'wheel',
    'whisk': 'whisk',
    'whistle': 'whistle',
    'wine bottle': 'wine bottle',
    'wine glass': 'wine glass',
    'winter glove': 'winter glove',
    'wok': 'wok',
    'wrench': 'wrench',
    'ziploc bag': 'ziploc bag'
},
'bdd': {
    'motor':'motorcycle',
    'rider':'bike rider',
    'gas stations scene':'gas station',
    'highway scene':'highway',
    'parking lot scene':'parking lot',
    'city street scene':'city street',
    'residential scene':'residential street', 
    'tunnel scene':'tunnel',
    'overcast weather':'overcast sky',
    'partly cloudy weather':'partly cloudy sky',
    'clear weather':'clear skies',
    'foggy weather':'foggy weather',
    'dawn or dusk':'dawn or dusk'
},
'coco':{
    'mouse':'computer mouse'
},
'dota':{
    'baseball-diamond': 'baseball diamond', 
    'basketball-court': 'basketball court', 
    'bridge': 'bridge', 
    'ground-track-field': 'ground track field',
    'harbor': 'harbor',
    'helicopter': 'helicopter',
    'large-vehicle':'large vehicle', 
    'plane': 'plane', 
    'roundabout': 'roundabout', 
    'ship': 'ship', 
    'small-vehicle': 'small vehicle', 
    'soccer-ball-field': 'soccer ball field', 
    'storage-tank': 'storage tank', 
    'swimming-pool': 'swimming pool', 
    'tennis-court': 'tennis court'
},
}

def category2query(dataset, cat):    
    if dataset == 'lvis':
        return clean_lvis_name(cat)
    else:
        assert dataset in _search_terms
        return _search_terms[dataset].get(cat, cat)